<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>4 yosh vizual son test</title>
<style>
  body {
    font-family: Arial;
    background: #fffbe6;
    text-align: center;
    padding-top: 20px;
  }
  h1 { margin-bottom: 10px; }
  #question { font-size: 24px; margin: 20px; }
  .item {
    width: 50px;
    height: 50px;
    display: inline-block;
    margin: 5px;
    cursor: pointer;
  }
  .answer-btn {
    display: inline-block;
    font-size: 22px;
    padding: 15px 30px;
    margin: 10px;
    border-radius: 15px;
    text-decoration: none;
    background-color: #4CAF50;
    color: white;
    cursor: pointer;
  }
  .answer-btn:hover { background-color: #45a049; }
  #result { font-size: 22px; margin: 20px; color: green; }
</style>
</head>
<body>

<h1>üß∏ Necha shakl bor bor?</h1>

<div id="question"></div>
<div id="answers"></div>
<h3 id="result"></h3>
<h3>‚≠ê Ball: <span id="score">0</span> / 20</h3>

<script>
// Rang va shakl variantlari
const colors = ["red","blue","green","yellow","orange","purple","pink"];
const shapes = ["circle","square","triangle"];

// 20 ta savol yaratish
const questions = [];
for(let i=0;i<20;i++){
  let correct = Math.floor(Math.random()*5)+1; // 1-5 ob‚Äôekt
  let wrongs = [];
  while(wrongs.length<2){
    let w = Math.floor(Math.random()*5)+1;
    if(w!==correct && !wrongs.includes(w)) wrongs.push(w);
  }
  let answers = [correct, wrongs[0], wrongs[1]];
  answers.sort(()=>Math.random()-0.5);

  // Har bir savolga shakl turi tasodifiy tanlanadi
  const shapeType = shapes[i % shapes.length];

  questions.push({c: correct, a: answers, shape: shapeType});
}

let score = 0;
let index = 0;

// Har bir ob‚Äôektni yaratish
function createItem(shape){
  const div = document.createElement("div");

  const color = colors[Math.floor(Math.random()*colors.length)];
  
  if(shape==="circle"){
    div.style.width = "50px";
    div.style.height = "50px";
    div.style.backgroundColor = color;
    div.style.borderRadius = "50%";
  } else if(shape==="square"){
    div.style.width = "50px";
    div.style.height = "50px";
    div.style.backgroundColor = color;
    div.style.borderRadius = "0";
  } else if(shape==="triangle"){
    div.style.width = "0";
    div.style.height = "0";
    div.style.backgroundColor = "transparent";
    div.style.borderLeft = "25px solid transparent";
    div.style.borderRight = "25px solid transparent";
    div.style.borderBottom = `50px solid ${color}`;
  }

  div.classList.add("item");
  return div;
}

function showQuestion(){
  if(index >= questions.length){
    document.body.innerHTML = `<h1>üéâ Tugadi!</h1><h2>Ball: ${score}/${questions.length}</h2>`;
    return;
  }

  const q = questions[index];

  // Vizual ob‚Äôektlar
  const container = document.getElementById("question");
  container.innerHTML = "";
  for(let i=0;i<q.c;i++){
    container.appendChild(createItem(q.shape));
  }

  // Javob tugmalari
  let html = "";
  q.a.forEach(ans=>{
    html += `<a href="#" class="answer-btn" onclick="check(${ans})">${ans}</a>`;
  });
  document.getElementById("answers").innerHTML = html;
}

function check(a){
  const correct = questions[index].c;
  if(a === correct){
    score++;
    document.getElementById("result").innerText = "üéâ To‚Äòg‚Äòri!";
  } else {
    document.getElementById("result").innerText = `‚ùå Xato, to‚Äòg‚Äòri javob: ${correct}`;
  }
  document.getElementById("score").innerText = score;
  index++;
  setTimeout(()=>{
    document.getElementById("result").innerText="";
    showQuestion();
  },800);
}

// O‚Äòyinni boshlash
showQuestion();
</script>
<a href="yosh.html">Ortga qaytish</a>
</body>
</html>
